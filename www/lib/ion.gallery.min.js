!function(){"use strict";function e(e,n){function i(e){n.setGalleryLength(e.ionGalleryItems.length),n.setRowSize(parseInt(e.ionGalleryRow));for(var i=e.ionGalleryItems,l=[],t=n.getRowSize(),o=-1,a=0,s=0;s<i.length;s++)s%t===0&&(o++,l[o]=[],a=0),i[s].hasOwnProperty("sub")||(i[s].sub=""),l[o][a]=i[s],a++;e.items=l,e.responsiveGrid=parseInt(1/t*100)}function l(e,n,i){e.ionSliderToggle="false"===i.ionGalleryToggle?!1:!0}return i.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRow:"=ionGalleryRow"},controller:i,link:l,replace:!0,templateUrl:"gallery.html"}}angular.module("ion-gallery",["templates"]).directive("ionGallery",e),e.$inject=["$ionicPlatform","ionGalleryData"]}(),function(){"use strict";function e(){var e,n=3,i=this;this.setGalleryLength=function(n){e=n},this.getGalleryLength=function(){return e},this.setRowSize=function(e){var l=i.getGalleryLength;n=isNaN(e)===!0?3:e>l?l:0>=e?1:e},this.getRowSize=function(){return n}}angular.module("ion-gallery").service("ionGalleryData",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.bind("load",function(e){this.naturalHeight>this.naturalWidth?n.attr("width","100%"):n.attr("height",n.parent()[0].offsetHeight+"px")})}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionImageScale",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.css("height",n[0].offsetWidth*parseInt(e.$parent.responsiveGrid)/100+"px")}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionRowHeight",e),e.$inject=[]}(),function(){"use strict";function e(e,n){function i(e){var i,l,t=n.getGalleryLength(),o=n.getRowSize();e.selectedSlide=1,e.hideAll=!1,e.showImage=function(n,a){e.slides=[],l=n*o+a;var s=l,r=s-1,c=s+1;0>r&&(r=t-1),c>=t&&(c=0),e.slides[0]=e.ionGalleryItems[r],e.slides[1]=e.ionGalleryItems[s],e.slides[2]=e.ionGalleryItems[c],console.log("loadSingles: "+r+" "+s+" "+c),i=1,e.loadModal()},e.slideChanged=function(n){if(n!==i){var o,a;switch(console.log("loadSingles: "+i+" > "+n),i+">"+n){case"0>1":o=2,l++,a=l+1;break;case"1>2":o=0,l++,a=l+1;break;case"2>0":o=1,l++,a=l+1;break;case"0>2":o=1,l--,a=l-1;break;case"1>0":o=2,l--,a=l-1;break;case"2>1":o=0,l--,a=l-1}0>l&&(l=t-1),l>t&&(l=0),0>a&&(a=t+a),a>=t&&(a-=t),e.slides[o]=e.ionGalleryItems[a],i=n}}}function l(n,i,l){var t;n.loadModal=function(){e.fromTemplateUrl("slider.html",{scope:n,animation:"fade-in"}).then(function(e){t=e,n.openModal()})},n.openModal=function(){t.show()},n.closeModal=function(){t.hide()},n.$on("$destroy",function(){t.remove()}),n.onTap=function(){n.hasOwnProperty("ionSliderToggle")&&n.ionSliderToggle===!1||(n.hideAll=!n.hideAll)}}return i.$inject=["$scope"],{restrict:"A",controller:i,link:l}}angular.module("ion-gallery").directive("ionSlider",e),e.$inject=["$ionicModal","ionGalleryData"]}(),angular.module("templates",[]).run(["$templateCache",function(e){e.put("gallery.html",'<div class="gallery-view">\n  <div class="row" ng-repeat="item in ::items" ion-row-height>\n    <div ng-repeat="photo in ::item track by $index"\n         class="col col-{{::responsiveGrid}} image-container">\n      \n      <img ion-image-scale\n           ng-src="{{::photo.src}}"\n           ng-click="showImage({{::$parent.$index}},{{::$index}})">\n      \n    </div>\n  </div>\n  <div ion-slider></div>\n</div>'),e.put("slider.html",'<ion-modal-view class="blackBackground imageView">\n  <ion-header-bar class="headerView">\n    <button class="button button-outline button-light close-btn" ng-class="{\'hideAll\' : hideAll === true}" ng-click="closeModal()">Done</button>\n  </ion-header-bar>\n    \n  <ion-content scroll="false">\n    <ion-slide-box does-continue="true" active-slide="selectedSlide" show-pager="false" class="listContainer" on-slide-changed="slideChanged($index)">\n      <ion-slide on-tap="onTap(ionSliderToggle)" ng-repeat="single in slides track by $index">\n        <div class="item item-image centerPictureVertical gallery-slide-view">\n          <img ng-src="{{single.src}}">\n        </div>\n        <div ng-if="single.sub.length > 0" class="image-subtitle" ng-class="{\'hideAll\' : hideAll === true}">\n            <span ng-bind-html=\'single.sub\'></span>\n        </div>\n      </ion-slide>\n    </ion-slide-box>\n  </ion-content>\n</ion-modal-view>')}]);